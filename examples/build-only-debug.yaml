# Build-Only Debug Configuration
# This configuration focuses on comprehensive logging for debugging purposes,
# using a mix of models for builder agents.

# Project metadata
project:
  name: debug-build-demo

# Builder agents configuration with multiple OpenRouter models
build:
  # High-level objective shared by **all** builder agents
  overarching_team_goal: >
    Develop a robust and scalable microservice architecture for a new
    e-commerce platform, focusing on modularity and clear API contracts.
  agents:
    count: 3  # Total number of builder agents
    # Define specific models and how many agents use each
    models:
      - name: openai/gpt-4o
        count: 1  # 1 agent for high-level design and critical components
        temperature: 0.2  # Low temperature for precise architectural decisions
        individual_agent_goal: >
          Design the core microservice architecture, define API contracts,
          and implement critical data models.
      - name: anthropic/claude-3-sonnet
        count: 1  # 1 agent for implementing business logic
        temperature: 0.5  # Balanced creativity for implementation
        individual_agent_goal: >
          Implement the main business logic for product management and order
          processing, ensuring data integrity and performance.
      - name: openai/gpt-3.5-turbo
        count: 1  # 1 agent for utility functions and documentation
        temperature: 0.7  # Higher temperature for more varied solutions to simple tasks
        individual_agent_goal: >
          Develop utility functions, helper scripts, and generate comprehensive
          API documentation and inline code comments.
    temperature: 0.5  # Default temperature (overridden by model-specific settings)
  
  constraints:
    max_cost_usd: 10.0  # Budget for debugging runs
    max_runtime_min: 45  # Runtime for debugging runs
    allowed_languages:
      - python
      - javascript
      - sql
      - markdown
    target_directory: ./debug-build-output
    dependencies:
      python:
        - fastapi>=0.100.0
        - pydantic>=2.0.0
      javascript:
        - express>=4.0.0
        - axios>=1.0.0

# --------------------------------------------------------------------------
# Disable verification and operation phases for this build-only configuration
# --------------------------------------------------------------------------

verify:
  agents:
    count: 0        # Skip verifier agents

operate:
  runtime: local    # Required field, but not used when count = 0
  operator_agents:
    count: 0        # Skip operator agents

# Logging configuration for comprehensive debugging
logging:
  level: debug  # Set to DEBUG for maximum verbosity
  format: json  # Structured JSON format for machine readability and analysis
  sink:
    type: file
    path: logs/debug-build.ndjson # Log to a file
    rotation:
      max_size_mb: 10
      max_files: 3
  additional_sinks:
    - type: stdout
      format: pretty  # Human-readable format for console output
